Установка кубер кластера своими силами
используя kubespray

есть 2 версии
1) официальный
2) классический

классический наъодится в репозитории
https://github.com/southbridgeio/kubespray.git

в классическом сертификат на 100 лет
в офке на 1 год, через год сертификаты протухают и кластер
перестает работать

master - 2 ядра 4GB RAm
Ingress - 1 ядро 2Gb
Node - 2-4 ядра 4-8Gb

это начально-средний кубер, потом меняем по необходимости

все витруалки связываются через локальную сеть
вырубаем firewalld для нод
ребята делали на центосе 4.Х

sudo -i
git clone https://github.com/southbridgeio/kubespray.git
cd kubespray
pip install -r requirements.txt

в начале описываем наш инвертарь,
сервера и тд

можно etcd выделить на одно железо а все остальное на другое железо
etcd оч важны диски, они должны быть оч скоростными

меняем переменные
см картинку group-vars

50 узлов можно использовать flannel
иначе лучше colico

addons картинка, где сразу описываются какие ингрессы нужно нам создать и тд